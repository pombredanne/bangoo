{% extends 'admin/base.html' %}
{% load i18n %}
{% load crispy_forms_tags %}
{% load static %}
{% load navigation_tags %}

{% block head %}
    {{ block.super }}
    <script src="{% theme_static 'redactor/redactor.min.js' %}" type="text/javascript"></script>
    <script src="{% theme_static 'redactor/plugins/imagemanager.js' %}" type="text/javascript"></script>
    <link href="{% theme_static 'redactor/redactor.css' %}" rel="stylesheet" type="text/css">
    <script type="text/javascript">
        $(function() {
            $('textarea').redactor({
                focus: true,
        		buttonSource: true,
        		paragraphize: false,
        		replaceDivs: false,
        		plugins: ['imagemanager'],
                imageManagerJson: "{% url 'media-redactor-list-images' %}",
                imageUpload: "{% url  'media-redactor-upload-images' %}"
            });
        });
    </script>
    <style>
    .redactor-editor .easy-block-v1 .easy-block-v1-badge {
        color: #fff;
        left: 0;
        padding: 4px 10px;
        position: absolute;
        top: 10px;
        z-index: 1;
    }
    </style>
{% endblock %}

{% block content %}
    {% if form.instance.is_page %}
        <h1>{% trans 'Edit page' %}</h1>
    {% else %}
        <h1>{% trans 'Edit widget' %}</h1>
    {% endif %}
    {% crispy form form.helper %}
{% endblock %}
